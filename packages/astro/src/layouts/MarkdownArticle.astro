---
import { unified } from "unified";
import remarkParse from "remark-parse";
import remarkGfm from "remark-gfm";
import remarkDirective from "remark-directive";
import type { Root } from "mdast";

export interface Props {
  Component: any;
  data: any;
  content: string;
  markdownFile?: string;
}

const { Component, data, content } = Astro.props as Props;

const processor = unified()
  .use(remarkParse)
  .use(remarkGfm)
  .use(remarkDirective);

const mdast = processor.parse(content) as Root;
const transformedMdast = (await processor.run(mdast)) as Root;
---

<Component content={transformedMdast} data={data} />
